<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Redismon</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;900&display=swap" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../css/global.css"/>
    <link type="text/css" rel="stylesheet" href="../css/list.css"/>
    <script src="https://kit.fontawesome.com/bfd2ca5492.js" crossorigin="anonymous"></script>
    <script>
        const {init, handleMenuClick, addNewKey, clearList, updateKeyList, filterKeyList} = require('../js/List');
        const {doLogout} = require('../js/Main');
        const {ipcRenderer} = require('electron');
    </script>
</head>
<body>
<div style="height: 100vh">
    <header style="background: #611b1c">
        <div style="display: flex;align-items: center;padding: 20px">
            <img src="../assets/img/redis.svg" alt="Logo" style="width: 80px"/>
            <h1 style="margin-left: 20px;color: white">Redismon</h1>
        </div>
    </header>
    <div style="display: flex;height: 100vh">
        <section class="menu">
            <span id="menuHome" onclick="handleMenuClick('home');updateKeyList();">Início</span>
            <span id="menuAddKey" onclick="handleMenuClick('addKey')">Adicionar chave</span>
            <span id="menuSettings" onclick="handleMenuClick('config')" >Configurações</span>
            <span id="menuQuit" onclick="doLogout()">Sair</span>
        </section>
        <section class="content">
            <div id="homeContainer" class="homeContainer">

                <div style="display: flex;justify-content: space-between">
                    <button class="primary" onclick="clearList()">Limpar</button>
                    <input type="text" id="searchKey" class="primary" placeholder="Procurar chave" style="width: 400px;"
                           onkeyup="filterKeyList(this.value)"/>
                </div>
                <ul id="keyList" class="mainList"></ul>
            </div>
            <div id="addKeyContainer" class="addKeyContainer">
                <h1>Adicionar chave</h1>
                <form>
                    <div>
                        <label for="newKeyName"></label>
                        <input class="primary" id="newKeyName" type="text" placeholder="Nome da chave"/>
                    </div>
                    <div>
                        <input class="primary" id="newKeyValue" type="text" placeholder="Valor"/>
                    </div>
                    <button type="button" class="primary" onclick="addNewKey()">Adicionar</button>

                </form>
            </div>
            <div id="settingsContainer" class="configContainer"></div>
        </section>
    </div>
</div>


</body>
</html>
<script>
    init();
    ipcRenderer.on('logout', () => {
        document.location = 'index.html';
    });
</script>
